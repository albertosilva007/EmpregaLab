<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Trilhas de Desenvolvimento</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, #faf5ff 0%, #eff6ff 50%, #f0fdf4 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1024px;
            margin: 0 auto;
            padding: 1rem;
        }

        .card {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .header {
            padding: 1.5rem;
            border-bottom: 4px solid #a855f7;
            border-radius: 1rem 1rem 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .icon-container {
            background: #a855f7;
            padding: 0.75rem;
            border-radius: 9999px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon-container svg {
            width: 24px;
            height: 24px;
            color: white;
            stroke: white;
            fill: none;
        }

        .header-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1f2937;
        }

        .header-subtitle {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .user-info {
            text-align: right;
        }

        .user-label {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .user-name {
            font-weight: 600;
            color: #a855f7;
        }

        .messages-container {
            padding: 1.5rem;
            height: 600px;
            overflow-y: auto;
        }

        .message-wrapper {
            display: flex;
            margin-bottom: 1rem;
        }

        .message-wrapper.user {
            justify-content: flex-end;
        }

        .message-wrapper.bot {
            justify-content: flex-start;
        }

        .message {
            max-width: 80%;
        }

        .message-bubble {
            padding: 1rem;
            border-radius: 1rem;
            font-size: 0.875rem;
            line-height: 1.5;
            white-space: pre-line;
        }

        .message-bubble.user {
            background: #a855f7;
            color: white;
            border-bottom-right-radius: 0;
        }

        .message-bubble.bot {
            background: #f3f4f6;
            color: #1f2937;
            border-bottom-left-radius: 0;
        }

        .message-timestamp {
            font-size: 0.75rem;
            color: #9ca3af;
            margin-top: 0.25rem;
        }

        .message-timestamp.user {
            text-align: right;
        }

        .options-container {
            margin-top: 0.75rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .option-button {
            width: 100%;
            text-align: left;
            padding: 0.75rem 1rem;
            background: white;
            border: 2px solid #e9d5ff;
            border-radius: 0.75rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-button:hover {
            border-color: #a855f7;
            background: #faf5ff;
        }

        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .module-card {
            padding: 1.5rem;
            background: linear-gradient(135deg, white 0%, #f9fafb 100%);
            border: 2px solid #e5e7eb;
            border-radius: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .module-card:hover {
            border-color: #a855f7;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .module-icon {
            padding: 1rem;
            border-radius: 0.75rem;
            transition: transform 0.3s;
            flex-shrink: 0;
        }

        .module-card:hover .module-icon {
            transform: scale(1.1);
        }

        .module-icon svg {
            width: 32px;
            height: 32px;
            color: white;
            stroke: white;
            fill: none;
        }

        .module-icon.yellow {
            background: #eab308;
        }

        .module-icon.blue {
            background: #3b82f6;
        }

        .module-icon.green {
            background: #22c55e;
        }

        .module-icon.purple {
            background: #a855f7;
        }

        .module-content {
            flex: 1;
        }

        .module-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .module-title {
            font-weight: bold;
            color: #1f2937;
            font-size: 0.95rem;
        }

        .module-emoji {
            font-size: 1.5rem;
        }

        .module-description {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .typing-indicator {
            display: flex;
            justify-content: flex-start;
        }

        .typing-bubble {
            background: #f3f4f6;
            border-radius: 1rem;
            border-bottom-left-radius: 0;
            padding: 1rem;
            display: flex;
            gap: 0.25rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #9ca3af;
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) {
            animation-delay: -0.32s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes bounce {
            0%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
        }

        .input-area {
            padding: 1rem;
            border-top: 1px solid #e5e7eb;
            border-radius: 0 0 1rem 1rem;
        }

        .input-container {
            display: flex;
            gap: 0.5rem;
        }

        .text-input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            font-size: 0.875rem;
            outline: none;
            transition: border-color 0.2s;
        }

        .text-input:focus {
            border-color: #a855f7;
        }

        .send-button {
            padding: 0.75rem 1.5rem;
            background: #a855f7;
            color: white;
            border: none;
            border-radius: 0.75rem;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
        }

        .send-button:hover {
            background: #9333ea;
        }

        .info-text {
            font-size: 0.75rem;
            color: #6b7280;
            text-align: center;
        }

        @media (max-width: 768px) {
            .modules-grid {
                grid-template-columns: 1fr;
            }
            
            .messages-container {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // √çcones SVG
        const MessageCircle = () => (
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
            </svg>
        );

        const TrendingUp = () => (
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                <polyline points="17 6 23 6 23 12"></polyline>
            </svg>
        );

        const Users = () => (
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
        );

        const Target = () => (
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"></circle>
                <circle cx="12" cy="12" r="6"></circle>
                <circle cx="12" cy="12" r="2"></circle>
            </svg>
        );

        const ChatbotTrilhas = () => {
          const [messages, setMessages] = useState([]);
          const [currentStep, setCurrentStep] = useState('menu');
          const [currentModule, setCurrentModule] = useState(null);
          const [userName, setUserName] = useState('');
          const [waitingForResponse, setWaitingForResponse] = useState(false);
          const messagesEndRef = useRef(null);
          const inputRef = useRef(null);

          const modules = {
    inteligencia: {
        name: "Intelig√™ncia Emocional",
        image: "inteligencia.png",
        color: "pink",
        emoji: "",
        description: "Desenvolva autoconhecimento emocional e autorregula√ß√£o"
    },
    adaptabilidade: {
        name: "Adaptabilidade e Resili√™ncia",
        image: "adaptabilidade.png",
        color: "green",
        emoji: "",
        description: "Fortale√ßa sua capacidade de enfrentar desafios"
    },
    lideranca: {
        name: "Lideran√ßa e Trabalho em Equipe",
        image: "lideranca.png",
        color: "blue",
        emoji: "",
        description: "Desenvolva habilidades de lideran√ßa e trabalho colaborativo"
    },
    comunicacao: {
        name: "Comunica√ß√£o Inclusiva",
        image: "comunicacao.png",
        color: "purple",
        emoji: "",
        description: "Aprenda a se comunicar de forma clara e respeitosa"
    },
    produtividade: {
        name: "Produtividade e Aprendizagem",
        image: "produtividade.png",
        color: "yellow",
        emoji: "",
        description: "Aprenda a ser mais produtivo e desenvolver aprendizado cont√≠nuo"
    },
    simulacoes: {
        name: "Simula√ß√µes de Entrevista",
        image: "comunicacao.png",
        color: "orange",
        emoji: "üé§",
        description: "Pratique entrevistas e receba feedback com IA"
    }
};

          const scrollToBottom = () => {
            messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
          };

          useEffect(() => {
            scrollToBottom();
          }, [messages]);

          useEffect(() => {
            addBotMessage('Oi! Bem-vindo ao Chat das Trilhas de Desenvolvimento! üòä\n\nQual seu nome?');
          }, []);

          const addBotMessage = (text, options = null, delay = 500) => {
            setTimeout(() => {
              setMessages(prev => [...prev, { 
                type: 'bot', 
                text, 
                options,
                timestamp: new Date().toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' })
              }]);
              setWaitingForResponse(false);
            }, delay);
          };

          const addUserMessage = (text) => {
            setMessages(prev => [...prev, { 
              type: 'user', 
              text,
              timestamp: new Date().toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' })
            }]);
            setWaitingForResponse(true);
          };

          const handleUserInput = (input) => {
            addUserMessage(input);

            if (currentStep === 'menu' && !userName) {
              setUserName(input);
              setTimeout(() => {
                addBotMessage(`Prazer, ${input}! üëã\n\nEscolha uma trilha para come√ßarmos:`);
                setCurrentStep('selectModule');
              }, 800);
              return;
            }

            // Processar resposta baseado no m√≥dulo e step
            processModuleFlow(input);
          };

          const processModuleFlow = (input) => {
            // Sele√ß√£o de m√≥dulo
            if (currentStep === 'selectModule' && !currentModule) {
              if (input === 'produtividade') {
                setCurrentModule('produtividade');
                setCurrentStep('prod_intro');
                addBotMessage(
                  'Me diga uma coisa‚Ä¶ j√° teve dia que voc√™ trabalhou o dia todinho e no fim pensou:\n\n"Oxente, fiz tanto e parece que n√£o fiz nada"? üòÖ\n\nPois √©! √Äs vezes a gente corre demais e esquece de pensar se t√° correndo pro lado certo.\nProdutividade n√£o √© fazer tudo ‚Äî √© fazer o que realmente importa.'
                );
                setTimeout(() => {
                  addBotMessage('E quando as tarefas acumulam, como √© que voc√™ reage?', [
                    { label: 'Fico agoniado e tento resolver tudo de uma vez üò∞', value: 'a' },
                    { label: 'Fa√ßo o que d√°, um de cada vez üòÖ', value: 'b' },
                    { label: 'Me organizo e planejo o que √© mais importante üí™', value: 'c' }
                  ], 1500);
                }, 1000);
              } else if (input === 'lideranca') {
                setCurrentModule('lideranca');
                setCurrentStep('lid_intro');
                addBotMessage(
                  'Rapaz, j√° viu como √© puxado liderar gente diferente?\nCada um pensa de um jeito, fala de outro e reage de outro.\nMas √© a√≠ que mora a beleza: liderar √© entender pessoas, n√£o controlar tarefas.\n\nBora bater um papo sobre isso?'
                );
                setTimeout(() => {
                  addBotMessage('Quando voc√™ pensa em um bom l√≠der, o que vem na cabe√ßa?', [
                    { label: 'D√° o exemplo', value: 'exemplo' },
                    { label: 'Escuta e apoia', value: 'escuta' },
                    { label: 'Motiva o grupo', value: 'motiva' },
                    { label: 'Cobra demais', value: 'cobra' }
                  ], 1500);
                }, 1000);
              } else if (input === 'adaptabilidade') {
                setCurrentModule('adaptabilidade');
                setCurrentStep('adapt_intro');
                addBotMessage(
                  'Conhece o mandacaru, n√©? Aquele que cresce firme no meio da seca, mas quando a chuva vem, floresce bonito? üåµ\n\nPois √©, hoje a conversa √© sobre ser assim tamb√©m: resistente e cheio de vida!\n\nNa vida, nem tudo sai como a gente planeja.\n√Äs vezes o patr√£o muda o hor√°rio, a venda cai, o √¥nibus atrasa, ou aparece um problema que ningu√©m esperava.'
                );
                setTimeout(() => {
                  addBotMessage('Quando aparece um imprevisto, qual dessas frases parece mais com voc√™?', [
                    { label: 'Desespero logo, fico sem saber o que fazer üò∞', value: 'desespero' },
                    { label: 'Reclamo, mas depois dou um jeito üòÖ', value: 'reclamo' },
                    { label: 'Penso positivo e me viro como posso üí™', value: 'pensopositivo' }
                  ], 1500);
                }, 1000);
              } else if (input === 'comunicacao') {
                setCurrentModule('comunicacao');
                setCurrentStep('com_intro');
                addBotMessage(
                  'Me diga uma coisa‚Ä¶ voc√™ j√° tentou explicar algo pra algu√©m e a pessoa entendeu tudinho errado?\n\nOu falou com outra pessoa e parecia que ela tava falando outra l√≠ngua?\n\nPois √©‚Ä¶ comunica√ß√£o n√£o √© s√≥ falar.\n√â fazer o outro compreender.'
                );
                setTimeout(() => {
                  addBotMessage('E quando voc√™ conversa com pessoas de idades diferentes, jovens, adultos, idosos, como √© que voc√™ costuma agir?', [
                    { label: 'Falo do mesmo jeito com todo mundo', value: 'mesmo_jeito' },
                    { label: 'Tento mudar o jeito de explicar', value: 'mudo_jeito' },
                    { label: 'Fico meio perdido, sem saber como falar', value: 'perdido' }
                  ], 1500);
                }, 1000);
              } else {
                setCurrentModule(input);
                const module = modules[input];
                addBotMessage(`Voc√™ escolheu: ${module.name} ${module.emoji}\n\nEm breve dispon√≠vel com conte√∫do completo!`, null, 1000);
                setTimeout(() => {
                  addBotMessage('Quer explorar outra trilha?', [
                    { label: 'üéØ Voltar ao menu', value: 'menu' },
                    { label: 'üêù Produtividade', value: 'ir_produtividade' },
                    { label: '‚öΩ Lideran√ßa', value: 'ir_lideranca' },
                    { label: 'üåµ Adaptabilidade', value: 'ir_adaptabilidade' }
                  ], 2000);
                }, 1000);
              }
              return;
            }

            // Fluxo da trilha de Produtividade
            if (currentModule === 'produtividade') {
              if (currentStep === 'prod_intro') {
                let response = '';
                if (input === 'a') response = 'Vixe, quem nunca? Mas sabia que isso mais atrapalha do que ajuda? O segredo √© respirar e come√ßar por uma coisa s√≥.';
                else if (input === 'b') response = 'J√° √© um passo! Um de cada vez, o que importa √© n√£o parar.';
                else if (input === 'c') response = 'Arretado! Produtividade come√ßa na clareza, e n√£o na pressa.';
                
                addBotMessage(response);
                setTimeout(() => {
                  addBotMessage(
                    'Produtividade √© igual receita de bolo: se tentar fazer tudo de uma vez, queima. üç∞\nTem que medir, misturar e esperar o tempo certo.\n\nMas afinal, o que √© produtividade?\n\n√â saber usar o tempo e os recursos de forma eficiente pra fazer o que tem valor ‚Äî sem se acabar de cansa√ßo.\n√â trabalhar com prop√≥sito e foco, e n√£o no autom√°tico.\n\nJ√° a aprendizagem cont√≠nua √© a vontade de nunca parar de aprender ‚Äî √© manter a cabe√ßa curiosa, aberta ao novo e disposta a melhorar sempre um pouquinho.\n\nQuem junta as duas coisas, cresce igual planta boa em terra f√©rtil: firme, produtiva e sempre florescendo. üå±'
                  );
                  setCurrentStep('prod_historia');
                }, 2000);
                setTimeout(() => {
                  addBotMessage(
                    'Pra deixar isso mais claro, deixa eu te contar o caso de seu Pedro, agricultor l√° de Arcoverde. üåæ\n\nEle sempre plantou feij√£o e milho do mesmo jeito, seguindo o costume do pai.\nMas nos √∫ltimos anos, a chuva andou diferente e a colheita come√ßou a cair.\n\nEm vez de desistir, seu Pedro procurou o pessoal da cooperativa, aprendeu sobre irriga√ß√£o por gotejamento e come√ßou a testar um novo jeito de plantar.\n\nNo come√ßo, achou dif√≠cil ‚Äî mas foi insistindo, anotando os resultados e aprendendo com os erros.\nHoje, colhe mais com menos gasto de √°gua e ainda ensina os vizinhos a fazer o mesmo. üíßüåΩ\n\nIsso √© produtividade e aprendizagem cont√≠nua: melhorar o que j√° sabe e continuar aprendendo pra fazer ainda melhor.'
                  );
                }, 4000);
                setTimeout(() => {
                  addBotMessage(
                    'Uma dica boa √© o m√©todo dos 25 minutos ‚Äî voc√™ trabalha focado esse tempo, faz uma pausa de 5 minutos e depois volta.\nO c√©rebro agradece e o corpo tamb√©m.\n\nMas √≥, n√£o adianta s√≥ produzir‚Ä¶ tem que aprender sempre tamb√©m.\nA vida muda num piscar de olhos, e quem fica parado perde o ritmo.\n\nVoc√™ costuma buscar aprender coisas novas no dia a dia?',
                    [
                      { label: 'Sim, gosto de aprender todo dia', value: 'aprende_sim' },
                      { label: '√Äs vezes, quando sobra tempo', value: 'aprende_as_vezes' },
                      { label: 'Quase nunca, t√¥ sempre na correria', value: 'aprende_nunca' }
                    ]
                  );
                }, 6000);
              }
              else if (currentStep === 'prod_historia') {
                let respAprendizado = '';
                if (input === 'aprende_sim') respAprendizado = 'Que beleza! Isso √© o que te mant√©m crescendo e com a mente viva.';
                else if (input === 'aprende_as_vezes') respAprendizado = 'Perfeito! Mas tente ver o aprendizado como parte da rotina, n√£o s√≥ quando d√°.';
                else if (input === 'aprende_nunca') respAprendizado = 'Eu sei! Mas at√© no meio da correria d√° pra aprender algo ‚Äî basta prestar aten√ß√£o.';
                
                addBotMessage(respAprendizado);
                setTimeout(() => {
                  addBotMessage(
                    'Agora, quero te lan√ßar o Desafio da Abelha Trabalhadeira üêù\n\nPega um papel (ou o celular mesmo) e anota:\n\na) Uma coisa que voc√™ quer aprender ainda este m√™s.\nb) Um h√°bito que quer melhorar pra render mais.\n\nDepois, pense:\n"O que posso fazer hoje pra come√ßar?"\n\nVoc√™ aceita o desafio?',
                    [
                      { label: 'Aceito! Vou fazer isso hoje', value: 'desafio_sim' },
                      { label: 'Vou pensar com calma', value: 'desafio_pensar' }
                    ]
                  );
                  setCurrentStep('prod_desafio');
                }, 2000);
              }
              else if (currentStep === 'prod_desafio') {
                let respDesafio = input === 'desafio_sim' 
                  ? 'Maravilha! Um passo pequeno por dia vale mais que um grande s√≥ na vontade.' 
                  : 'Arretado! A mudan√ßa come√ßa quando a gente decide cuidar da rotina.';
                
                addBotMessage(respDesafio);
                setTimeout(() => {
                  addBotMessage(
                    'Produtividade e aprendizado andam juntos, visse?\nN√£o adianta s√≥ correr, tem que saber pra onde t√° indo ‚Äî e aproveitar o caminho pra crescer.\n\nQual dessas frases combina mais com seu jeito de trabalhar?',
                    [
                      { label: 'Devagar, mas constante', value: 'devagar' },
                      { label: 'Fa√ßo mil coisas ao mesmo tempo', value: 'mil_coisas' },
                      { label: 'Gosto de planejar e executar', value: 'planejar' }
                    ]
                  );
                  setCurrentStep('prod_final');
                }, 2000);
              }
              else if (currentStep === 'prod_final') {
                let respFinal = '';
                if (input === 'devagar') respFinal = 'Perfeito! Const√¢ncia vale mais que velocidade.';
                else if (input === 'mil_coisas') respFinal = 'Cuidado pra n√£o cansar antes da linha de chegada.';
                else if (input === 'planejar') respFinal = 'A√≠ sim! Isso √© produtividade inteligente.';
                
                addBotMessage(respFinal);
                setTimeout(() => {
                  addBotMessage(
                    'Ent√£o, meu povo, lembrem-se: ser produtivo n√£o √© ser apressado, √© ser intencional.\nE aprender sempre √© o que faz a gente florescer de novo, toda vez que o mundo muda. üåª\n\nQuando o cansa√ßo bater, pare um pouco, respire e lembre:\n\nAt√© a abelha descansa entre uma flor e outra ‚Äî mas nunca deixa de buscar o mel. üçØ\n\n‚úÖ M√≥dulo conclu√≠do!'
                  );
                  setCurrentStep('modulo_concluido');
                }, 2000);
                setTimeout(() => {
                  addBotMessage('Quer explorar outro m√≥dulo?', [
                    { label: 'üéØ Voltar ao menu', value: 'menu' },
                    { label: '‚öΩ Lideran√ßa e Trabalho em Equipe', value: 'ir_lideranca' }
                  ]);
                }, 4000);
              }
              else if (currentStep === 'modulo_concluido') {
                if (input === 'menu') {
                  resetToMenu();
                } else if (input === 'ir_lideranca') {
                  setCurrentModule('lideranca');
                  setCurrentStep('lid_intro');
                  addBotMessage(
                    'Rapaz, j√° viu como √© puxado liderar gente diferente?\nCada um pensa de um jeito, fala de outro e reage de outro.\nMas √© a√≠ que mora a beleza: liderar √© entender pessoas, n√£o controlar tarefas.\n\nBora bater um papo sobre isso?'
                  );
                  setTimeout(() => {
                    addBotMessage('Quando voc√™ pensa em um bom l√≠der, o que vem na cabe√ßa?', [
                      { label: 'D√° o exemplo', value: 'exemplo' },
                      { label: 'Escuta e apoia', value: 'escuta' },
                      { label: 'Motiva o grupo', value: 'motiva' },
                      { label: 'Cobra demais', value: 'cobra' }
                    ], 1500);
                  }, 1000);
                }
              }
              return;
            }

            // Fluxo da trilha de Lideran√ßa
            if (currentModule === 'lideranca') {
              if (currentStep === 'lid_intro') {
                let response = '';
                if (input === 'exemplo') response = 'Show! Liderar √© mais sobre atitude do que sobre cargo.';
                else if (input === 'escuta') response = 'Isso √© ouro! Um bom l√≠der √© aquele que sabe ouvir o que n√£o √© dito.';
                else if (input === 'motiva') response = 'Perfeito! Motiva√ß√£o vem do prop√≥sito.';
                else if (input === 'cobra') response = 'Cuidado, l√≠der que s√≥ cobra cria medo, n√£o confian√ßa.';
                
                addBotMessage(response);
                setTimeout(() => {
                  addBotMessage(
                    'Sabia que o l√≠der n√£o precisa ter todas as respostas?\nO segredo t√° em construir junto.\n\nExiste um estilo de lideran√ßa chamado lideran√ßa servidora, que foca em ajudar o time a crescer.\n√â tipo o capit√£o do time que joga junto, incentiva e comemora cada vit√≥ria da equipe. ‚öΩ'
                  );
                  setCurrentStep('lid_bastao');
                }, 2000);
                setTimeout(() => {
                  addBotMessage(
                    '**O desafio do bast√£o** üèÉ\n\nImagina uma corrida de revezamento. Se o corredor n√£o passar bem o bast√£o, o time perde tempo, n√©?\nNa equipe √© igual: comunica√ß√£o e confian√ßa s√£o o bast√£o.\n\nO que mais atrapalha sua equipe hoje?',
                    [
                      { label: 'Falta de di√°logo', value: 'dialogo' },
                      { label: 'Falta de confian√ßa', value: 'confianca' },
                      { label: 'Ego e competi√ß√£o', value: 'ego' },
                      { label: 'Falta de clareza nas tarefas', value: 'clareza' }
                    ]
                  );
                }, 4000);
              }
              else if (currentStep === 'lid_bastao') {
                let respBastao = '';
                if (input === 'dialogo') respBastao = 'Bora conversar mais e evitar suposi√ß√µes.';
                else if (input === 'confianca') respBastao = 'Confian√ßa nasce de pequenas entregas cumpridas.';
                else if (input === 'ego') respBastao = 'Equipe n√£o √© corrida de quem brilha mais, √© coreografia.';
                else if (input === 'clareza') respBastao = 'Comunica√ß√£o clara √© o primeiro ato de lideran√ßa.';
                
                addBotMessage(respBastao);
                setTimeout(() => {
                  addBotMessage(
                    'Agora pare um pouco e pense:\nComo voc√™ reage quando o grupo n√£o te ouve ou n√£o faz o que voc√™ pediu?',
                    [
                      { label: 'Fico bravo(a) e resolvo sozinho', value: 'resolvo_sozinho' },
                      { label: 'Tento conversar e entender', value: 'converso' },
                      { label: 'Desisto e deixo pra l√°', value: 'desisto' },
                      { label: 'Pe√ßo ajuda e redistribuo', value: 'peco_ajuda' }
                    ]
                  );
                  setCurrentStep('lid_reacao');
                }, 2000);
              }
              else if (currentStep === 'lid_reacao') {
                let respReacao = '';
                if (input === 'resolvo_sozinho') respReacao = 'Cuidado! Isso desmotiva o grupo e te sobrecarrega.';
                else if (input === 'converso') respReacao = 'Boa! Comunica√ß√£o resolve 80% dos conflitos.';
                else if (input === 'desisto') respReacao = 'Evitar conflito tamb√©m √© uma escolha, mas pode custar caro depois.';
                else if (input === 'peco_ajuda') respReacao = 'Excelente! L√≠der que pede ajuda mostra for√ßa, n√£o fraqueza.';
                
                addBotMessage(respReacao);
                setTimeout(() => {
                  addBotMessage(
                    'Sabe o que diferencia o l√≠der bom do l√≠der incr√≠vel?\nO **feedback com empatia**.\nSaber dizer a verdade sem machucar e elogiar sem bajular.\n\nExemplo:\n"Maria, percebi que voc√™ se esfor√ßou muito nesse projeto. Que tal ajustarmos juntos esse ponto aqui?"\n\nBora tentar dar um feedback hoje pra algu√©m do seu grupo?',
                    [
                      { label: 'Bora! Vou fazer isso', value: 'feedback_sim' },
                      { label: 'Fico sem jeito...', value: 'feedback_sem_jeito' }
                    ]
                  );
                  setCurrentStep('lid_feedback');
                }, 2000);
              }
              else if (currentStep === 'lid_feedback') {
                let respFeedback = input === 'feedback_sim'
                  ? 'Excelente! Escolha um colega e diga algo que ele fez bem. Depois, se couber, uma sugest√£o de melhoria.'
                  : 'Normal! Comece elogiando, o resto vem naturalmente. üòä';
                
                addBotMessage(respFeedback);
                setTimeout(() => {
                  addBotMessage(
                    '**Desafio do dia:** üéØ\n\n1. Escolha algu√©m do grupo.\n2. Fa√ßa uma pergunta poderosa:\n   "O que posso fazer pra te ajudar no seu trabalho?"\n3. Escute de verdade.\n\nEsse simples gesto √© o que cria l√≠deres de verdade.'
                  );
                  setCurrentStep('lid_final');
                }, 2000);
                setTimeout(() => {
                  addBotMessage(
                    'Continue praticando:\n\n‚Ä¢ Escute mais do que fala\n‚Ä¢ Reconhe√ßa sempre\n‚Ä¢ Divida responsabilidades\n‚Ä¢ E inspire pelo exemplo\n\nüí¨ "Sozinhos, vamos mais r√°pido. Juntos, vamos mais longe."\n\n‚úÖ M√≥dulo conclu√≠do!'
                  );
                }, 4000);
                setTimeout(() => {
                  addBotMessage('Quer explorar outro m√≥dulo?', [
                    { label: 'üéØ Voltar ao menu', value: 'menu' },
                    { label: 'üåµ Adaptabilidade e Resili√™ncia', value: 'ir_adaptabilidade' },
                    { label: 'üåâ Comunica√ß√£o Inclusiva', value: 'ir_comunicacao' }
                  ]);
                  setCurrentStep('modulo_concluido');
                }, 6000);
              }
              else if (currentStep === 'modulo_concluido') {
                if (input === 'menu') {
                  resetToMenu();
                } else if (input === 'ir_adaptabilidade') {
                  setCurrentModule('adaptabilidade');
                  setCurrentStep('adapt_intro');
                  addBotMessage(
                    'Conhece o mandacaru, n√©? Aquele que cresce firme no meio da seca, mas quando a chuva vem, floresce bonito? üåµ\n\nPois √©, hoje a conversa √© sobre ser assim tamb√©m: resistente e cheio de vida!\n\nNa vida, nem tudo sai como a gente planeja.\n√Äs vezes o patr√£o muda o hor√°rio, a venda cai, o √¥nibus atrasa, ou aparece um problema que ningu√©m esperava.'
                  );
                  setTimeout(() => {
                    addBotMessage('Quando aparece um imprevisto, qual dessas frases parece mais com voc√™?', [
                      { label: 'Desespero logo, fico sem saber o que fazer üò∞', value: 'desespero' },
                      { label: 'Reclamo, mas depois dou um jeito üòÖ', value: 'reclamo' },
                      { label: 'Penso positivo e me viro como posso üí™', value: 'pensopositivo' }
                    ], 1500);
                  }, 1000);
                } else if (input === 'ir_comunicacao') {
                  setCurrentModule('comunicacao');
                  setCurrentStep('com_intro');
                  addBotMessage('Em breve: Trilha de Comunica√ß√£o completa!');
                }
              }
              return;
            }

            // Fluxo da trilha de Adaptabilidade
            if (currentModule === 'adaptabilidade') {
              if (currentStep === 'adapt_intro') {
                let response = '';
                if (input === 'desespero') response = 'Acontece demais, visse? O segredo √© aprender a respirar e pensar no que d√° pra fazer, em vez de s√≥ se preocupar.';
                else if (input === 'reclamo') response = 'Rapaz, j√° √© meio caminho andado! Quem reclama, mas se vira, j√° t√° praticando adaptabilidade.';
                else if (input === 'pensopositivo') response = 'Arretado! Essa √© a for√ßa do nordestino: at√© trope√ßa, mas n√£o cai.';
                
                addBotMessage(response);
                setTimeout(() => {
                  addBotMessage(
                    'Deixa eu te falar um pouco sobre esse neg√≥cio de adaptabilidade e resili√™ncia...\n\nS√£o duas palavras que parecem dif√≠ceis, mas t√™m um significado simples.\n\n**Adaptabilidade** - √© quando a gente muda o jeito de fazer, mas sem perder o rumo.\n\n**Resili√™ncia** - √© quando a vida d√° pancada e a gente se levanta mais forte.\n\n√â tipo o cabra que planta: se a chuva n√£o vem, ele muda o tempo do plantio, mas n√£o desiste da ro√ßa.'
                  );
                  setCurrentStep('adapt_historia');
                }, 2000);
                setTimeout(() => {
                  addBotMessage(
                    'Deixa eu te contar o caso de **dona Tereza**, costureira aqui do interior. üßµ\n\nQuando veio a pandemia, as encomendas de roupa pararam.\nMas em vez de cruzar os bra√ßos, ela come√ßou a costurar m√°scara de pano.\nNo come√ßo, n√£o vendia muito, mas ela insistiu ‚Äî e deu certo!\n\nHoje, t√° com a lojinha dela de novo, firme e sorridente. üòä'
                  );
                }, 4000);
                setTimeout(() => {
                  addBotMessage('E voc√™, j√° passou por uma situa√ß√£o em que precisou se reinventar?', [
                    { label: 'Sim, e aprendi muito com isso', value: 'sim_aprendi' },
                    { label: 'Sim, mas foi dif√≠cil demais', value: 'sim_dificil' },
                    { label: 'Ainda n√£o, mas sei que o dia chega', value: 'ainda_nao' }
                  ]);
                }, 6000);
              }
              else if (currentStep === 'adapt_historia') {
                let respReinvencao = '';
                if (input === 'sim_aprendi') respReinvencao = 'Que beleza! Cada queda √© uma li√ß√£o valiosa.';
                else if (input === 'sim_dificil') respReinvencao = 'Eu sei que n√£o √© f√°cil, mas voc√™ passou por isso e t√° aqui, firme.';
                else if (input === 'ainda_nao') respReinvencao = 'Pois √©! A vida √© assim, o importante √© estar preparado.';
                
                addBotMessage(respReinvencao);
                setTimeout(() => {
                  addBotMessage(
                    'Pois √©, meu amigo(a). A vida √© assim: cada queda √© uma li√ß√£o.\nO importante √© n√£o deixar o medo te secar, igual mandacaru que guarda for√ßa pra florescer.\n\n**Desafio do Mandacaru** üåµ\n\nAgora quero te lan√ßar um desafio.\nPensa em uma situa√ß√£o dif√≠cil que voc√™ t√° passando, pode ser no trabalho, em casa ou no cora√ß√£o.\n\nAgora se pergunte:\n‚Ä¢ O que ainda d√° pra fazer nessa situa√ß√£o?\n‚Ä¢ Que coisa pequena eu posso mudar hoje pra melhorar?'
                  );
                  setCurrentStep('adapt_desafio');
                }, 2000);
                setTimeout(() => {
                  addBotMessage('Voc√™ aceita esse desafio de reflex√£o?', [
                    { label: 'Aceito, vou refletir sobre isso', value: 'aceito' },
                    { label: 'Vou pensar depois', value: 'depois' }
                  ]);
                }, 4000);
              }
              else if (currentStep === 'adapt_desafio') {
                let respDesafio = input === 'aceito'
                  ? 'Que resposta boa! Isso √© coragem. Continue firme, um passo por vez.'
                  : 'Mesmo que seja dif√≠cil, s√≥ de pensar diferente j√° √© sinal de for√ßa, visse?';
                
                addBotMessage(respDesafio);
                setTimeout(() => {
                  addBotMessage(
                    'Ser resiliente n√£o √© fingir que t√° tudo bem.\n√â admitir que doeu, aprender com o tombo e levantar com mais sabedoria.\n\nQual dessas frases combina mais com sua forma de ver a vida?',
                    [
                      { label: 'Tudo d√° certo no fim', value: 'da_certo' },
                      { label: 'O que n√£o mata, ensina', value: 'ensina' },
                      { label: 'Melhor rir do que chorar', value: 'rir' }
                    ]
                  );
                  setCurrentStep('adapt_final');
                }, 2000);
              }
              else if (currentStep === 'adapt_final') {
                addBotMessage('Qualquer uma dessas j√° mostra um olhar positivo, meu povo.\nO importante √© n√£o se entregar, a gente pode at√© cansar, mas n√£o quebra!');
                setTimeout(() => {
                  addBotMessage(
                    'Ent√£o, meu povo, quando a vida apertar **seja como o mandacaru** üåµ\n\nAguente firme e depois flores√ßa bonito, siga confiante.\n\n‚úÖ M√≥dulo conclu√≠do!'
                  );
                  setCurrentStep('modulo_concluido');
                }, 2000);
                setTimeout(() => {
                  addBotMessage('Quer explorar outro m√≥dulo?', [
                    { label: 'üéØ Voltar ao menu', value: 'menu' },
                    { label: 'üåâ Comunica√ß√£o Inclusiva', value: 'ir_comunicacao' },
                    { label: 'üêù Produtividade', value: 'ir_produtividade' }
                  ]);
                }, 4000);
              }
              else if (currentStep === 'modulo_concluido') {
                if (input === 'menu') {
                  resetToMenu();
                } else if (input === 'ir_comunicacao') {
                  setCurrentModule('comunicacao');
                  setCurrentStep('com_intro');
                  addBotMessage(
                    'Me diga uma coisa‚Ä¶ voc√™ j√° tentou explicar algo pra algu√©m e a pessoa entendeu tudinho errado?\n\nOu falou com outra pessoa e parecia que ela tava falando outra l√≠ngua?\n\nPois √©‚Ä¶ comunica√ß√£o n√£o √© s√≥ falar.\n√â fazer o outro compreender.'
                  );
                  setTimeout(() => {
                    addBotMessage('E quando voc√™ conversa com pessoas de idades diferentes, jovens, adultos, idosos, como √© que voc√™ costuma agir?', [
                      { label: 'Falo do mesmo jeito com todo mundo', value: 'mesmo_jeito' },
                      { label: 'Tento mudar o jeito de explicar', value: 'mudo_jeito' },
                      { label: 'Fico meio perdido, sem saber como falar', value: 'perdido' }
                    ], 1500);
                  }, 1000);
                } else if (input === 'ir_produtividade') {
                  setCurrentModule('produtividade');
                  setCurrentStep('prod_intro');
                  addBotMessage(
                    'Me diga uma coisa‚Ä¶ j√° teve dia que voc√™ trabalhou o dia todinho e no fim pensou:\n\n"Oxente, fiz tanto e parece que n√£o fiz nada"? üòÖ\n\nPois √©! √Äs vezes a gente corre demais e esquece de pensar se t√° correndo pro lado certo.\nProdutividade n√£o √© fazer tudo ‚Äî √© fazer o que realmente importa.'
                  );
                  setTimeout(() => {
                    addBotMessage('E quando as tarefas acumulam, como √© que voc√™ reage?', [
                      { label: 'Fico agoniado e tento resolver tudo de uma vez üò∞', value: 'a' },
                      { label: 'Fa√ßo o que d√°, um de cada vez üòÖ', value: 'b' },
                      { label: 'Me organizo e planejo o que √© mais importante üí™', value: 'c' }
                    ], 1500);
                  }, 1000);
                }
              }
              return;
            }

            // Fluxo da trilha de Comunica√ß√£o
            if (currentModule === 'comunicacao') {
              if (currentStep === 'com_intro') {
                let response = '';
                if (input === 'mesmo_jeito') response = '√Äs vezes funciona, visse? Mas nem todo mundo entende as coisas do mesmo jeito.';
                else if (input === 'mudo_jeito') response = 'Arretado! Isso j√° √© comunica√ß√£o inclusiva: adaptar sem perder respeito.';
                else if (input === 'perdido') response = 'Normal demais! Comunica√ß√£o √© treino, ningu√©m nasce sabendo.';
                
                addBotMessage(response);
                setTimeout(() => {
                  addBotMessage(
                    'Ent√£o‚Ä¶ o que √© **Comunica√ß√£o Inclusiva?**\n\n√â quando a gente conversa de um jeito que todo mundo entende e se sente respeitado, independente de idade, cultura, escolaridade, defici√™ncia, sotaque ou jeito de viver.\n\nComunica√ß√£o inclusiva √©:\n‚úî Clara\n‚úî Emp√°tica\n‚úî Respeitosa\n‚úî Acolhedora\n‚úî Sem preconceitos\n‚úî Sem termos confusos\n\n√â falar com o cora√ß√£o, n√£o s√≥ com a boca. ‚ù§Ô∏è'
                  );
                  setCurrentStep('com_conceitos');
                }, 2000);
                setTimeout(() => {
                  addBotMessage(
                    'E o que √© **Comunica√ß√£o Geracional?**\n\n√â saber conversar com pessoas de diferentes gera√ß√µes, entendendo que cada uma tem seu ritmo:\n\nüëµ Gera√ß√£o mais velha: valoriza calma, respeito, olho no olho.\nüßë Gera√ß√£o adulta: gosta de objetividade.\nüßë‚Äçüéì Gera√ß√£o jovem: quer dinamismo, exemplos pr√°ticos e linguagem mais leve.\n\nN√£o √© mudar quem voc√™ √© ‚Äî √© saber se ajustar pra conectar.'
                  );
                }, 4000);
                setTimeout(() => {
                  addBotMessage(
                    'Deixa eu te contar o caso de **Seu Raimundo e L√≠via**, l√° da feira de Caruaru. üé™\n\nSeu Raimundo, 68 anos, vende cordel desde menino.\nL√≠via, 19, chegou pra ajudar o av√¥ a divulgar os folhetos.\n\nEle falava: "Minha fia, posta meus cordel no telefone desse povo a√≠."\nMas L√≠via n√£o entendia o jeito dele explicar.\nE ele n√£o entendia nada do jeito moderno dela falar.\n\nAt√© que um dia, ela sentou e disse:\n"V√¥, me diga do jeitinho do senhor: o que o senhor quer mostrar pras pessoas?"\n\nEle explicou com calma. Ela traduziu pro mundo digital.\nE pronto: juntaram tradi√ß√£o e modernidade.\nHoje os cord√©is dele vendem at√© pra fora do pa√≠s! üì±üåç\n\nIsso √© comunica√ß√£o geracional funcionando:\ncada um falando do seu jeito, mas se ouvindo com respeito.'
                  );
                }, 6000);
                setTimeout(() => {
                  addBotMessage('Quando voc√™ percebe que algu√©m n√£o entendeu o que voc√™ disse, voc√™ faz o qu√™?', [
                    { label: 'Repito do mesmo jeito', value: 'repito' },
                    { label: 'Explico de outra forma', value: 'outra_forma' },
                    { label: 'Pe√ßo pra pessoa dizer o que entendeu', value: 'peco_repetir' }
                  ]);
                }, 8000);
              }
              else if (currentStep === 'com_conceitos') {
                let respEntendimento = '';
                if (input === 'repito') respEntendimento = '√Äs vezes precisa mudar o caminho pra chegar no mesmo lugar.';
                else if (input === 'outra_forma') respEntendimento = 'Isso a√≠! Comunica√ß√£o boa √© igual √°gua de rio: contorna, mas chega.';
                else if (input === 'peco_repetir') respEntendimento = 'Excelente! Pedir pra pessoa repetir √© uma t√©cnica profissional de comunica√ß√£o inclusiva.';
                
                addBotMessage(respEntendimento);
                setTimeout(() => {
                  addBotMessage('Agora responda com sinceridade:\nVoc√™ costuma ouvir mais ou falar mais?', [
                    { label: 'Eu falo muito', value: 'falo' },
                    { label: 'Eu escuto, mas √†s vezes me perco', value: 'escuto_perco' },
                    { label: 'Eu escuto mais que falo', value: 'escuto' }
                  ]);
                  setCurrentStep('com_escuta');
                }, 2000);
              }
              else if (currentStep === 'com_escuta') {
                let respEscuta = '';
                if (input === 'falo') respEscuta = 'Eiita! Ent√£o bora treinar a escuta ativa.';
                else if (input === 'escuto_perco') respEscuta = 'Normal! Escutar tamb√©m √© pr√°tica.';
                else if (input === 'escuto') respEscuta = 'Que beleza! Quem escuta bem se comunica melhor.';
                
                addBotMessage(respEscuta);
                setTimeout(() => {
                  addBotMessage(
                    '**Dica de Ouro:** üí°\n\nComunica√ß√£o inclusiva come√ßa com duas perguntas m√°gicas:\n\nüîπ "Ser√° que a pessoa entendeu?"\nüîπ "Ser√° que a forma como falei acolheu ou afastou?"\n\nSe acolheu: continue.\nSe afastou: ajuste o tom.'
                  );
                  setCurrentStep('com_desafio');
                }, 2000);
                setTimeout(() => {
                  addBotMessage(
                    '**Desafio da Ponte do Entendimento** üèûÔ∏è\n\nHoje, tente conversar com algu√©m de outra gera√ß√£o (mais novo ou mais velho) e fa√ßa assim:\n\n1Ô∏è‚É£ Fale com calma\n2Ô∏è‚É£ Use palavras simples\n3Ô∏è‚É£ Pergunte se ficou claro\n4Ô∏è‚É£ Ou√ßa sem interromper\n\nDepois pense: "A ponte ficou forte ou ficou faltando madeira?"\n\nVoc√™ aceita esse desafio?',
                    [
                      { label: 'Aceito! Vou fazer isso', value: 'aceito' },
                      { label: 'Vou tentar', value: 'vou_tentar' }
                    ]
                  );
                }, 4000);
              }
              else if (currentStep === 'com_desafio') {
                let respDesafio = input === 'aceito'
                  ? 'Excelente! Esse √© o esp√≠rito da comunica√ß√£o inclusiva.'
                  : '√ìtimo! Cada tentativa j√° √© um passo importante.';
                
                addBotMessage(respDesafio);
                setTimeout(() => {
                  addBotMessage('E pra encerrar essa prosa, me diga qual frase combina mais com sua forma de se comunicar:', [
                    { label: 'Cada pessoa tem seu jeito de entender', value: 'cada_pessoa' },
                    { label: 'Falar √© f√°cil, dif√≠cil √© se fazer entender', value: 'dificil' },
                    { label: 'Quem conversa se entende', value: 'conversa' }
                  ]);
                  setCurrentStep('com_final');
                }, 2000);
              }
              else if (currentStep === 'com_final') {
                addBotMessage('Tanto faz a frase, todas mostram que voc√™ j√° percebeu o caminho:\ncomunica√ß√£o boa √© aquela que aproxima, n√£o que separa.');
                setTimeout(() => {
                  addBotMessage(
                    'Assim como a ponte liga um lado ao outro, a comunica√ß√£o liga uma pessoa √† outra.\n\nE quando √© inclusiva e respeitosa, ah meu amigo‚Ä¶ a√≠ ningu√©m fica pra tr√°s. üåâ\n\n‚úÖ M√≥dulo conclu√≠do!'
                  );
                  setCurrentStep('modulo_concluido');
                }, 2000);
                setTimeout(() => {
                  addBotMessage('Parab√©ns! Voc√™ completou todas as trilhas! üéâ\n\nQuer revisar algum conte√∫do?', [
                    { label: 'üéØ Voltar ao menu', value: 'menu' },
                    { label: 'üêù Produtividade', value: 'ir_produtividade' },
                    { label: '‚öΩ Lideran√ßa', value: 'ir_lideranca' },
                    { label: 'üåµ Adaptabilidade', value: 'ir_adaptabilidade' }
                  ]);
                }, 4000);
              }
              else if (currentStep === 'modulo_concluido') {
                if (input === 'menu') {
                  resetToMenu();
                } else if (input === 'ir_produtividade') {
                  setCurrentModule('produtividade');
                  setCurrentStep('prod_intro');
                  addBotMessage(
                    'Me diga uma coisa‚Ä¶ j√° teve dia que voc√™ trabalhou o dia todinho e no fim pensou:\n\n"Oxente, fiz tanto e parece que n√£o fiz nada"? üòÖ\n\nPois √©! √Äs vezes a gente corre demais e esquece de pensar se t√° correndo pro lado certo.\nProdutividade n√£o √© fazer tudo ‚Äî √© fazer o que realmente importa.'
                  );
                  setTimeout(() => {
                    addBotMessage('E quando as tarefas acumulam, como √© que voc√™ reage?', [
                      { label: 'Fico agoniado e tento resolver tudo de uma vez üò∞', value: 'a' },
                      { label: 'Fa√ßo o que d√°, um de cada vez üòÖ', value: 'b' },
                      { label: 'Me organizo e planejo o que √© mais importante üí™', value: 'c' }
                    ], 1500);
                  }, 1000);
                } else if (input === 'ir_lideranca') {
                  setCurrentModule('lideranca');
                  setCurrentStep('lid_intro');
                  addBotMessage(
                    'Rapaz, j√° viu como √© puxado liderar gente diferente?\nCada um pensa de um jeito, fala de outro e reage de outro.\nMas √© a√≠ que mora a beleza: liderar √© entender pessoas, n√£o controlar tarefas.\n\nBora bater um papo sobre isso?'
                  );
                  setTimeout(() => {
                    addBotMessage('Quando voc√™ pensa em um bom l√≠der, o que vem na cabe√ßa?', [
                      { label: 'D√° o exemplo', value: 'exemplo' },
                      { label: 'Escuta e apoia', value: 'escuta' },
                      { label: 'Motiva o grupo', value: 'motiva' },
                      { label: 'Cobra demais', value: 'cobra' }
                    ], 1500);
                  }, 1000);
                } else if (input === 'ir_adaptabilidade') {
                  setCurrentModule('adaptabilidade');
                  setCurrentStep('adapt_intro');
                  addBotMessage(
                    'Conhece o mandacaru, n√©? Aquele que cresce firme no meio da seca, mas quando a chuva vem, floresce bonito? üåµ\n\nPois √©, hoje a conversa √© sobre ser assim tamb√©m: resistente e cheio de vida!\n\nNa vida, nem tudo sai como a gente planeja.\n√Äs vezes o patr√£o muda o hor√°rio, a venda cai, o √¥nibus atrasa, ou aparece um problema que ningu√©m esperava.'
                  );
                  setTimeout(() => {
                    addBotMessage('Quando aparece um imprevisto, qual dessas frases parece mais com voc√™?', [
                      { label: 'Desespero logo, fico sem saber o que fazer üò∞', value: 'desespero' },
                      { label: 'Reclamo, mas depois dou um jeito üòÖ', value: 'reclamo' },
                      { label: 'Penso positivo e me viro como posso üí™', value: 'pensopositivo' }
                    ], 1500);
                  }, 1000);
                }
              }
              return;
            }

            // Outros m√≥dulos ou voltar ao menu
            if (input === 'menu') {
              resetToMenu();
            } else if (input === 'ir_produtividade') {
              setCurrentModule('produtividade');
              setCurrentStep('prod_intro');
              addBotMessage(
                'Me diga uma coisa‚Ä¶ j√° teve dia que voc√™ trabalhou o dia todinho e no fim pensou:\n\n"Oxente, fiz tanto e parece que n√£o fiz nada"? üòÖ\n\nPois √©! √Äs vezes a gente corre demais e esquece de pensar se t√° correndo pro lado certo.\nProdutividade n√£o √© fazer tudo ‚Äî √© fazer o que realmente importa.'
              );
              setTimeout(() => {
                addBotMessage('E quando as tarefas acumulam, como √© que voc√™ reage?', [
                  { label: 'Fico agoniado e tento resolver tudo de uma vez üò∞', value: 'a' },
                  { label: 'Fa√ßo o que d√°, um de cada vez üòÖ', value: 'b' },
                  { label: 'Me organizo e planejo o que √© mais importante üí™', value: 'c' }
                ], 1500);
              }, 1000);
            } else if (input === 'ir_lideranca') {
              setCurrentModule('lideranca');
              setCurrentStep('lid_intro');
              addBotMessage(
                'Rapaz, j√° viu como √© puxado liderar gente diferente?\nCada um pensa de um jeito, fala de outro e reage de outro.\nMas √© a√≠ que mora a beleza: liderar √© entender pessoas, n√£o controlar tarefas.\n\nBora bater um papo sobre isso?'
              );
              setTimeout(() => {
                addBotMessage('Quando voc√™ pensa em um bom l√≠der, o que vem na cabe√ßa?', [
                  { label: 'D√° o exemplo', value: 'exemplo' },
                  { label: 'Escuta e apoia', value: 'escuta' },
                  { label: 'Motiva o grupo', value: 'motiva' },
                  { label: 'Cobra demais', value: 'cobra' }
                ], 1500);
              }, 1000);
            } else if (input === 'ir_adaptabilidade') {
              setCurrentModule('adaptabilidade');
              setCurrentStep('adapt_intro');
              addBotMessage(
                'Conhece o mandacaru, n√©? Aquele que cresce firme no meio da seca, mas quando a chuva vem, floresce bonito? üåµ\n\nPois √©, hoje a conversa √© sobre ser assim tamb√©m: resistente e cheio de vida!\n\nNa vida, nem tudo sai como a gente planeja.\n√Äs vezes o patr√£o muda o hor√°rio, a venda cai, o √¥nibus atrasa, ou aparece um problema que ningu√©m esperava.'
              );
              setTimeout(() => {
                addBotMessage('Quando aparece um imprevisto, qual dessas frases parece mais com voc√™?', [
                  { label: 'Desespero logo, fico sem saber o que fazer üò∞', value: 'desespero' },
                  { label: 'Reclamo, mas depois dou um jeito üòÖ', value: 'reclamo' },
                  { label: 'Penso positivo e me viro como posso üí™', value: 'pensopositivo' }
                ], 1500);
              }, 1000);
            }
          };

          const resetToMenu = () => {
            setCurrentModule(null);
            setCurrentStep('selectModule');
            addBotMessage(`${userName}, escolha uma trilha para continuar:`);
          };

          const handleOptionClick = (option) => {
            addUserMessage(option.label);
            handleUserInput(option.value);
          };

          const handleSendClick = () => {
            if (inputRef.current && inputRef.current.value.trim()) {
              handleUserInput(inputRef.current.value.trim());
              inputRef.current.value = '';
            }
          };

          const handleKeyPress = (e) => {
            if (e.key === 'Enter') {
              handleSendClick();
            }
          };

          return (
            <div className="container">
              <div className="card">
                <div className="header">
                  <div className="header-content">
                    <div className="icon-container">
                      <MessageCircle />
                    </div>
                    <div>
                      <h1 className="header-title">Trilhas de Desenvolvimento</h1>
                      <p className="header-subtitle">
                        {currentModule ? modules[currentModule].name : 'Escolha seu caminho de aprendizado'}
                      </p>
                    </div>
                  </div>
                  {userName && (
                    <div className="user-info">
                      <p className="user-label">Ol√°,</p>
                      <p className="user-name">{userName}</p>
                    </div>
                  )}
                </div>

                <div className="messages-container">
                  {messages.map((message, index) => (
                    <div key={index} className={`message-wrapper ${message.type}`}>
                      <div className="message">
                        <div className={`message-bubble ${message.type}`}>
                          {message.text}
                        </div>
                        <p className={`message-timestamp ${message.type}`}>
                          {message.timestamp}
                        </p>
                        
                        {message.options && message.type === 'bot' && index === messages.length - 1 && (
                          <div className="options-container">
                            {message.options.map((option, optIndex) => (
                              <button
                                key={optIndex}
                                onClick={() => handleOptionClick(option)}
                                className="option-button"
                              >
                                {option.label}
                              </button>
                            ))}
                          </div>
                        )}
                      </div>
                    </div>
                  ))}

                  {currentStep === 'selectModule' && !waitingForResponse && !currentModule && (
                    <div className="modules-grid">
                      {Object.entries(modules).map(([key, module]) => {
                        const Icon = module.icon;
                        return (
                          <div
                            key={key}
                            onClick={() => handleUserInput(key)}
                            className="module-card"
                          >
                            <div className={`module-icon ${module.color}`}>
                              <Icon />
                            </div>
                            <div className="module-content">
                              <div className="module-header">
                                <h3 className="module-title">{module.name}</h3>
                                <span className="module-emoji">{module.emoji}</span>
                              </div>
                              <p className="module-description">
                                {module.description}
                              </p>
                            </div>
                          </div>
                        );
                      })}
                    </div>
                  )}

                  {waitingForResponse && (
                    <div className="typing-indicator">
                      <div className="typing-bubble">
                        <div className="typing-dot"></div>
                        <div className="typing-dot"></div>
                        <div className="typing-dot"></div>
                      </div>
                    </div>
                  )}

                  <div ref={messagesEndRef} />
                </div>

                <div className="input-area">
                  {currentStep === 'menu' && !userName ? (
                    <div className="input-container">
                      <input
                        ref={inputRef}
                        type="text"
                        placeholder="Digite seu nome..."
                        className="text-input"
                        onKeyPress={handleKeyPress}
                        autoFocus
                      />
                      <button onClick={handleSendClick} className="send-button">
                        Enviar
                      </button>
                    </div>
                  ) : (
                    <p className="info-text">
                      üí° Dica: Leia com aten√ß√£o e escolha as op√ß√µes que mais combinam com voc√™!
                    </p>
                  )}
                </div>
              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ChatbotTrilhas />);
    </script>
</body>
</html>
